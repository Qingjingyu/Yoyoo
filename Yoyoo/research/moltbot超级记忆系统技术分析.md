# Moltbot 超级记忆系统 - 技术分析报告

> **调研日期**: 2026-01-31
> **来源**: 行业新闻 / Moltbot (原 Clawdbot) 官方发布
> **目标**: 分析 Moltbot 的三层记忆系统，为 Yoyoo 提供参考

---

## 1. 背景

### 1.1 项目现状

| 项目 | 状态 |
|------|------|
| **原名** | Clawdbot |
| **现名** | Moltbot (因突破 100k Star 被迫改名) |
| **Star 数** | 100k+ |
| **问题** | 记忆是静态的，需要手动维护 |

### 1.2 核心问题

**静态记忆的缺陷**：

```
六个月前你写下：
  "我的老板 Sarah 很难搞"

后来你换了工作，喜欢新经理。

但你的 Clawdbot 还以为你讨厌老板。
```

生活是变化的，但静态记忆跟不上变化。

---

## 2. 超级记忆系统架构

### 2.1 三层记忆 vs 传统记忆

| 维度 | Clawdbot 传统记忆 | Moltbot 三层记忆 |
|------|-------------------|------------------|
| **存储方式** | 平面文件 | 活的知识图谱 |
| **更新方式** | 手动维护 | 自动演化 |
| **事实处理** | 覆盖/删除 | 替代而非删除 |
| **上下文** | 静态过期 | 实时更新 |
| **可读性** | 可读 | 可读 + 可搜索 |

### 2.2 三层架构详解

```
┌─────────────────────────────────────────────────────────────┐
│                    Moltbot 超级记忆系统                      │
├─────────────────────────────────────────────────────────────┤
│  Layer 3: 隐性知识 (MEMORY.md)                              │
│  └── 模式、偏好、经验教训                                    │
├─────────────────────────────────────────────────────────────┤
│  Layer 2: 每日笔记 (memory/YYYY-MM-DD.md)                   │
│  └── 原始事件日志——发生了什么，何时发生                      │
├─────────────────────────────────────────────────────────────┤
│  Layer 1: 知识图谱 (/life/areas/)                           │
│  ├── people/    — 人物实体                                  │
│  ├── companies/ — 公司实体                                  │
│  └── 带原子事实 + 动态摘要                                   │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 核心机制

### 3.1 实时事实提取

**触发频率**: 每约 30 分钟

**执行方式**: 廉价子代理（如 Haiku，~$0.001）

**提取内容**:
```
"Maria 的公司招了两个开发者"
"Emma 迈出了第一步"
"开始新工作，向 James 汇报"
```

**成本**: 每天几美分

### 3.2 每周综合整理

**触发时间**: 周日定时任务

**执行内容**:
1. 审阅新增事实
2. 更新相关摘要
3. 将矛盾事实标记为历史
4. 生成干净、当前的快照

### 3.3 替代而非删除

**原则**: 事实变化时，旧事实标记为历史，不删除

**示例**:
```json
{
  "id": "sarah-003",
  "fact": "难搞的管理者， micromanages",
  "timestamp": "2025-06-15",
  "status": "superseded",
  "supersededBy": "sarah-007"
},
{
  "id": "sarah-007",
  "fact": "不再共事——离开了 Acme Corp",
  "timestamp": "2026-01-15",
  "status": "active"
}
```

**优点**: 保留完整历史，可追溯关系如何随时间演变

---

## 4. 详细架构

### 4.1 第一层：知识图谱

**位置**: `/life/areas/`

**结构**:
```
/life/areas/
├── people/
│   ├── sarah/              # 前老板
│   │   ├── summary.md      # 动态摘要
│   │   └── items.json      # 原子事实
│   ├── maria/              # 商业伙伴
│   ├── emma/               # 家人
│   └── sarah-connor/       # 谨慎信任
├── companies/
│   ├── acme-corp/          # 旧工作
│   ├── newco/              # 当前工作
│   └── skynet/             # 别给 cron 权限
```

**原子事实 (items.json)**:
```json
{
  "id": "sarah-003",
  "fact": "难搞的管理者， micromanages",
  "timestamp": "2025-06-15",
  "status": "active"
}
```

**动态摘要 (summary.md)**:
```markdown
# Sarah

Acme Corp 前经理（2024–2025）。
换工作后不再相关。
旧信息自然淡出。
上下文保持精简准确。
```

### 4.2 第二层：每日笔记

**位置**: `memory/YYYY-MM-DD.md`

**示例**:
```markdown
# 2026-01-27
- 10:30am: 购物
- 2:00pm: 医生复查
- 决策：日历事件现在使用 emoji 分类
```

**作用**: 这是"何时"层，记录原始事件，持久事实随后被提取到第一层。

### 4.3 第三层：隐性知识

**位置**: `MEMORY.md`

**示例**:
```markdown
## 我的工作方式
- 冲刺型工作者——高强度爆发，然后休息
- 联系偏好：电话 > 短信 > 邮件
- 早起者，喜欢简短信息

## 经验教训
- 别为一次性提醒创建 cron 任务
```

**作用**: 捕捉用户的运作方式，不是关于世界的事实，而是关于用户的事实。

---

## 5. 飞轮效应

```
    ┌──────────┐
    │  对话    │
    └────┬─────┘
         │
         ▼
    ┌─────────────┐
    │ 事实提取    │  (廉价，~$0.001)
    │ 每30分钟    │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │ 知识图谱增长│
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │ 每周综合整理│
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │ 更好的上下文│
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │ 更好的回复  │
    └──────┬──────┘
           │
           ▼
    ┌─────────────┐
    │  更多对话   │
    └─────────────┘
```

**复利效果**:

| 时间 | 理解深度 |
|------|----------|
| 第 1 周 | 基本偏好 |
| 第 1 个月 | 日常习惯、关键人物 |
| 第 6 个月 | 项目、里程碑、关系 |
| 第 1 年 | 比大多数人对你的生活更丰富的模型 |

---

## 6. 与其他方案对比

| 方案 | 问题 |
|------|------|
| **向量数据库 / RAG** | 黑盒，无法检查 AI"知道"什么 |
| **单体上下文文件** | 无法扩展，会过时，加载昂贵 |
| **基础 Clawdbot** | 基础扎实，但是静态的 |
| **三层记忆** | 可读文件，自动维护，复利智能 |

---

## 7. 实施指南

### 7.1 创建文件夹结构

```bash
mkdir -p ~/life/areas/people
mkdir -p ~/life/areas/companies
mkdir -p ~/clawd/memory
```

### 7.2 AGENTS.md 配置

```markdown
## 记忆 —— 三层

### Layer 1: 知识图谱 (`/life/areas/`)
- `people/` — 人物实体
- `companies/` — 公司实体

分层检索：
1. summary.md — 快速上下文
2. items.json — 原子事实

规则：
- 立即保存事实到 items.json
- 每周：从活跃事实重写 summary.md
- 永不删除——用替代代替
```

### 7.3 HEARTBEAT.md 配置

```markdown
## 事实提取

每次心跳：
1. 检查新对话
2. 生成廉价子代理提取持久事实
3. 写入相关实体 items.json
4. 记录 lastExtractedTimestamp

重点：关系、状态变化、里程碑
跳过：闲聊、临时信息
```

### 7.4 每周 Cron 配置

```markdown
## 每周记忆审阅

对每个有新事实的实体：
1. 加载 summary.md
2. 加载活跃 items.json
3. 为当前状态重写 summary.md
4. 将矛盾事实标记为替代
```

### 7.5 原子事实 Schema

```json
{
  "id": "entity-001",
  "fact": "实际事实",
  "category": "relationship|milestone|status|preference",
  "timestamp": "YYYY-MM-DD",
  "source": "conversation",
  "status": "active|superseded",
  "supersededBy": "entity-002"
}
```

---

## 8. 与 Supermemory.ai 集成

### 8.1 Supermemory 是什么

Supermemory 是一个专门的记忆服务，提供：

- 全天候自动回忆
- 手动搜索、遗忘、获取资料等工具
- `/remember` 和 `/recall` 命令

### 8.2 为什么需要集成

> "工具的问题在于——模型并没有被训练成每次都使用它们。记忆应该是模型随时能访问的东西，每次运行都应该直接喂给模型。"

### 8.3 安装方式

```
https://supermemory.ai/docs/integrations/clawdbot
```

---

## 9. 对 Yoyoo 的参考价值

### 9.1 可借鉴的设计

| 功能 | Yoyoo 是否可借鉴 | 说明 |
|------|------------------|------|
| **三层记忆架构** | ✅ 强烈推荐 | 知识图谱 + 每日笔记 + 隐性知识 |
| **自动事实提取** | ✅ 强烈推荐 | 每 30 分钟扫描对话 |
| **替代而非删除** | ✅ 强烈推荐 | 保留完整历史 |
| **每周综合整理** | ✅ 推荐 | 自动更新摘要 |
| **实体文件夹结构** | ✅ 推荐 | people/companies/ 分类 |
| **Supermemory 集成** | ✅ 参考 | 可作为可选的记忆服务 |

### 9.2 Yoyoo 记忆系统设计建议

基于 Moltbot 的三层记忆，Yoyoo 可以这样设计：

```
Yoyoo/
├── BRAIN/
│   └── MEMORY/
│       ├── evolution.json      # 进化日志（已有）
│       ├── knowledge/          # Layer 1: 知识图谱
│       │   ├── people/         # 人物实体
│       │   ├── companies/      # 公司实体
│       │   ├── projects/       # 项目实体
│       │   └── ...
│       │       ├── summary.md
│       │       └── items.json
│       ├── daily/              # Layer 2: 每日笔记
│       │   └── YYYY-MM-DD.md
│       └── implicit/           # Layer 3: 隐性知识
│           └── MEMORY.md
```

### 9.3 实施优先级

| 优先级 | 功能 | 说明 |
|--------|------|------|
| P0 | 知识图谱结构 | 创建实体文件夹和 items.json schema |
| P0 | 替代而非删除 | 实现事实版本管理 |
| P1 | 每日笔记 | 记录原始事件 |
| P1 | 自动事实提取 | 每 30 分钟扫描对话 |
| P2 | 每周综合整理 | 自动更新摘要 |
| P3 | Supermemory 集成 | 可选的记忆服务 |

---

## 10. 参考链接

| 资源 | 链接 |
|------|------|
| Moltbot 项目 | github.com/openclaw/moltbot |
| Supermemory | supermemory.ai |
| Supermemory Clawdbot 集成 | supermemory.ai/docs/integrations/clawdbot |

---

## 附录：Clawdbot → Moltbot 名称变更

由于 Clawdbot 项目突破 100k Star，被迫改名为 **Moltbot**。

| 时间 | 事件 |
|------|------|
| 2026-01-31 | Clawdbot 突破 100k Star |
| 2026-01-31 | 正式改名为 Moltbot |
| 2026-01-31 | 升级超级记忆系统 |

---

> **报告版本**: 1.0
> **调研人**: Yoyoo
> **最后更新**: 2026-01-31
