# OpenClaw 飞书/钉钉接入实战：使用场景与玩法探索

> **调研日期**: 2026-02-05
> **来源**: 芋头小宝 - OpenClaw 飞书/钉钉接入实战经验
> **目标**: 整理 OpenClaw 接入国内 IM（飞书/钉钉/企微）的方法、安全注意事项及真实使用场景。

---

## 1. 安全红线（必读）

OpenClaw 是**拥有极高权限**的 AI 助理：
- 能模拟鼠标键盘
- 能读取你的文件
- **绝对不要在存有核心机密或只有一份重要数据的主力机上裸奔运行**

### 推荐运行环境（按安全等级排序）
| 优先级 | 环境 | 说明 |
|--------|------|------|
| ⭐⭐⭐ | 虚拟机 / Docker | 完全隔离，炸了重开 |
| ⭐⭐ | 闲置的备用电脑 | 确保没有不可挽回的重要文件 |
| ⭐ | 云服务器 | 24小时待命场景，推荐 Docker 安装（注意 token 消耗） |

---

## 2. 模型切换方法

### 方法一：命令行交互式配置
```bash
openclaw config
# 根据提示依次操作 → 选择新模型（如 kimi-coding）
# 换完模型，重启 gateway：
openclaw gateway restart
```

### 方法二：修改配置文件
```bash
nano ~/.openclaw/openclaw.json
# 找到 models 模块，参考其他模型进行参数修改和配置
```

---

## 3. 国内渠道接入三步法

核心理念：**找资源装插件 → 配置凭证信息 → 测试连通**

### 3.1 接入飞书

1. **安装插件**（WebUI/TUI 界面输入）：
   ```
   我要安装一个飞书插件，请你基于这个项目进行安装配置：https://github.com/m1heng/Clawdbot-feishu
   ```

2. **获取凭证**（飞书开放平台）：
   - App ID / App Secret
   - 权限管理：开启 im/contact 相关权限
   - 事件/回调改为长连接模式

3. **配置与测试**：将凭证发给 OpenClaw 让其自配置，发布版本后飞书内搜索机器人对话。

> 📚 详细配置参考：@林月半子 https://mp.weixin.qq.com/s/qnDCqYtZr4xvGx1mgEDKVw

---

### 3.2 接入钉钉

1. **在飞书机器人窗口安装**（跨 IM 安装能力）：
   ```
   我要安装一个 dingtalk 插件，请你基于这个项目进行安装配置：https://github.com/soimy/openclaw-channel-dingtalk
   ```

2. **钉钉开发者后台配置**（https://open-dev.dingtalk.com/）：
   - 应用开发 → 创建应用
   - 配置机器人：消息接收模式选择 **Stream模式**
   - 发布版本

3. **获取凭证信息**：
   - Client ID (AppKey)
   - Client Secret (AppSecret)
   - Robot Code（与 Client ID 相同）
   - Corp ID（企业 ID，点击头像获取）
   - Agent ID（应用 ID）

4. **发给 OpenClaw 配置**：
   ```
   我的凭证如下，请帮我配置：
   appid: xxx
   clientid: xxx
   clientsecret: xxx
   robot code: xxx
   corp id: xxx
   agentid: xxx
   ```

5. **群聊测试**：创建群聊（你是管理员）→ 群设置添加机器人 → @机器人聊天

#### ⚠️ 钉钉注意事项
- 机器人创建组织和使用组织必须是**同一个**
- 所有群成员必须先拉入同一个组织，否则机器人添加失败

---

### 3.3 接入企微

- 插件地址：https://github.com/sunnoy/openclaw-plugin-wecom
- **特殊要求**：企微回调 URL 需要公网可访问
- 本地环境需使用内网穿透工具（如 ngrok）或部署到云服务器

---

## 4. 能力边界与真实场景

### 优点 ✅
| 能力 | 说明 |
|------|------|
| 类 AI IDE | 能操作文件、运行 skills、写代码装插件 |
| IM 集成 | 通过手机随时随地操作机器人 |
| 灵活性 | 纯 AI 聊天软件干不了的事它都能干 |

### 缺点 ⚠️
| 问题 | 说明 |
|------|------|
| 费 token | 长链路任务消耗大 |
| 反应慢 | 时不时 reconnect |
| 权限风险 | 高权限是双刃剑 |

### 7×24 场景思考
> "定时任务我用 n8n 跑，稳定又省钱"

真实价值在于：**离开电脑时随时待命，一条消息立刻干活**

如果没有这种场景，不如用免费的元宝/豆包。

---

## 5. 跨 IM 上下文共享（火影佩恩模式）

**玩法发现**：
- 飞书创建"龙虾特工1号"，喂给它一份文档
- 钉钉问"龙虾特工2号"，它也能无缝调用那份文档的信息

> 类似火影忍者**佩恩六道**的概念——视觉共享。这些 bot 则是**上下文共享**，在不同 IM 里进行数据传输和共享。

---

## 6. 对 Yoyoo 的启示

| 要点 | 应用 |
|------|------|
| 安全隔离 | 优先 Docker/虚拟机部署，绝不裸奔 |
| 跨平台 | 飞书+钉钉双通道，用户在哪都能用 |
| 成本意识 | 无真实业务场景不硬上，Token 消耗需监控 |
| 记忆策略 | 跨 IM 共享上下文，但重要对话落地文档 |

---

## 7. 快速检查清单

- [ ] 运行环境是否隔离（Docker/VM）？
- [ ] 敏感文件是否已移除？
- [ ] 飞书/钉钉凭证是否已获取？
- [ ] 机器人是否已发布到组织？
- [ ] 跨 IM 上下文共享是否需要？
- [ ] Token 消耗是否有预算上限？
