# OpenClaw 四件事回滚手册（故障快速止血）

- 日期：2026-02-11
- 用途：安装后出现异常时，快速恢复可用状态

## 0. 触发回滚的典型信号

1. 安装后网关无法启动
2. 浏览器链路不可用且影响业务
3. QMD 导致请求异常或稳定性下降
4. 技能冲突导致高频报错

## 1. 回滚优先级

1. 先回滚高风险变更（技能、QMD）
2. 再回滚浏览器配置
3. 最后回滚整份 `~/.openclaw` 备份

## 2. QMD 回滚（最快）

将 `~/.openclaw/openclaw.json` 改回：

```json
{
  "memory": {
    "backend": "sqlite"
  }
}
```

重启：

```bash
openclaw gateway restart
```

## 3. 技能回滚

方案 A：移除单个问题技能目录  
方案 B：把 `~/.openclaw/skills/` 整体临时迁出

```bash
mv ~/.openclaw/skills ~/.openclaw/skills.disabled.$(date +%Y%m%d_%H%M%S)
mkdir -p ~/.openclaw/skills
openclaw gateway restart
```

## 4. 浏览器回滚

1. 临时停用浏览器扩展  
2. 去掉远程 CDP 配置（若有）  
3. 重启网关并仅保留基础聊天能力

## 5. 全量回滚（最终兜底）

```bash
mv ~/.openclaw ~/.openclaw.bad.$(date +%Y%m%d_%H%M%S)
cp -r ~/.openclaw.bak.<timestamp> ~/.openclaw
openclaw gateway restart
```

## 6. 回滚后验收

```bash
openclaw gateway status --deep
openclaw logs --limit 120 --plain
```

通过标准：
1. 网关恢复运行
2. 日志无持续致命错误
3. 核心通道恢复可回复

## 7. 复盘要求（防止重复故障）

1. 记录故障时间、现象、根因、恢复动作
2. 把问题技能加入 blocklist
3. 变更改为灰度策略：先单实例验证，再全量

